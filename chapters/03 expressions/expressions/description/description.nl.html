<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=windows-1252">
  </head>
  <body>
    <p>Dan kan nu eindelijk het onderwerp van dit hoofdstuk onder de loep
      genomen worden, namelijk <i>expressies</i>. Een expressie is een
      combinatie van &#233;&#233;n of meerdere waardes (zoals strings, integers,
      of floats) met behulp van operatoren, die dan een nieuwe waarde oplevert.
      Je kunt je expressies dus voorstellen als berekeningen.</p>
    <h3>Eenvoudige berekeningen</h3>
    <p>Eenvoudige berekeningen worden gemaakt door twee waardes te combineren
      met een operator ertussenin. Een aantal voor de hand liggende operatoren
      zijn:</p>
    <div class="dodona-centered-group">
      <table class="table table-striped table-condensed">
        <thead>
          <tr>
            <th>operator</th>
            <th>omschrijving</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><samp>+</samp></td>
            <td>optelling</td>
          </tr>
          <tr>
            <td><samp>-</samp></td>
            <td>aftrekking</td>
          </tr>
          <tr>
            <td><samp>*</samp></td>
            <td>vermenigvuldiging</td>
          </tr>
          <tr>
            <td><samp>/</samp></td>
            <td>deling</td>
          </tr>
          <tr>
            <td><samp>//</samp></td>
            <td>integer deling</td>
          </tr>
          <tr>
            <td><samp>**</samp></td>
            <td>machtsverheffing</td>
          </tr>
          <tr>
            <td><samp>%</samp></td>
            <td>modulo</td>
          </tr>
        </tbody>
      </table>
    </div>
    <p>Hier volgen een paar voorbeelden:</p>
    <div class="highlighter-rouge">
      <pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span
class="p">(</span> <span class="mi">15</span><span class="o">+</span><span class="mi">4</span> <span
class="p">)</span>
<span class="go">19</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span> <span
class="mi">15</span><span class="o">-</span><span class="mi">4</span> <span class="p">)</span>
<span class="go">11</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span> <span
class="mi">15</span><span class="o">*</span><span class="mi">4</span> <span class="p">)</span>
<span class="go">60</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span> <span
class="mi">15</span><span class="o">/</span><span class="mi">4</span> <span class="p">)</span>
<span class="go">3.75</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span> <span
class="mi">15</span><span class="o">//</span><span class="mi">4</span> <span class="p">)</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span> <span
class="mi">15</span><span class="o">**</span><span class="mi">4</span> <span class="p">)</span>
<span class="go">50625</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span> <span
class="mi">15</span><span class="o">%</span><span class="mi">4</span> <span class="p">)</span>
<span class="go">3</span>
</pre></div>
    <p>Ik neem aan dat je weet wat deze operatoren voorstellen, behalve
      misschien de integer deling en de modulo.</p>
    <p>De integer deling (ook wel genoemd <i>floor division</i>) is simpelweg
      een deling die naar beneden afrondt naar een geheel getal. Als er floats
      in de berekening zitten, is het resultaat nog steeds een float, maar naar
      beneden afgerond. Als de berekening alleen integers omvat, is het
      resultaat een integer.</p>
    <p>De modulo operator (<samp>%</samp>) produceert de rest die overblijft na
      deling. Bijvoorbeeld: als ik 14 deel door 5, is de uitkomst 2.8. Dat
      betekent dat ik twee keer 5 kan aftrekken van 14, en dan nog steeds een
      positief getal overhoud, maar als ik het een derde keer aftrek wordt het
      resultaat negatief. Dus als ik 5 twee keer aftrek van 14, rest er een
      getal kleiner dan 5. Deze rest is wat de modulo operator oplevert.</p>
    <p>In eenvoudige termen: als ik 14 koekjes heb die ik moet verdelen over 5
      kinderen, kan ik ieder kind 2 koekjes geven. Ik heb dan nog 4 koekjes
      over, omdat ik dan meer kinderen dan koekjes heb. Dus als je 14 deelt door
      5 met integer deling, geeft dat 2 (koekjes per kind), terwijl 14 modulo 5
      als rest 4 (koekjes in mijn hand) geeft.</p>
    <p>Als zijdelingse opmerking: de code hierboven bestaat uit meerdere regels.
      Iedere regel is &#233;&#233;n <i>statement</i>, bestaande uit een
      commando dat Python uitvoert (in de code hierboven is dat voor iedere
      regel een <samp>print()</samp> commando). De meeste programmeertalen
      stellen het als een verplichting dat ieder statement eindigt met een
      speciaal teken, bijvoorbeeld een puntkomma (<samp>;</samp>). Python
      verlangt dat niet, maar dan moet ieder statement ook op zijn eigen regel
      staan. In principe mag je meerdere Python statements op &#233;&#233;n
      regel zetten, maar dan moeten er puntkomma's tussen de statements staan.
      In de praktijk doen Python programmeurs dat niet, omdat het code lelijk,
      slecht leesbaar, en slecht onderhoudbaar maakt. Dus ik stel voor dat je de
      Python-gewoonte volgt en ieder statement zijn eigen regel geeft.</p>
    <h3>Complexe berekeningen</h3>
    <p>Je mag waardes en operatoren combineren om grotere berekening te maken,
      net zoals je kunt met geavanceerde rekenmachines. Je mag daarbij haakjes
      gebruiken om de evaluatievolgorde te bepalen, en je mag die haakjes zelfs
      nesten. Zonder haakjes zal Python de operatoren evalueren in de volgorde
      die wiskundigen gebruiken, waarvoor op basisscholen vaak de zin <samp>Meneer
        Van Dalen Wacht Op Antwoord</samp> wordt gebruikt (machtsverheffen,
      vermenigvuldigen, delen, worteltrekken, optellen,
      aftrekken).<sup id="fnref:1"><a href="#fn:1" class="footnote">1</a></sup></p>
    <p>Bekijk de berekening hieronder en probeer te bepalen wat de uitkomst is
      voordat je hem uitvoert in de Python shell.</p>
    <div class="highlighter-rouge">
      <pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span
class="p">(</span> <span class="mi">5</span><span class="o">*</span><span class="mi">2</span><span
class="o">-</span><span class="mi">3</span><span class="o">+</span><span class="mi">4</span><span
class="o">/</span><span class="mi">2</span> <span class="p">)</span>
<span class="go">9.0</span>
</pre></div>
    <p>Ik moet een paar opmerkingen maken over deze berekening.</p>
    <p>Op de eerste plaats valt het op dat de uitkomst een float is (zelfs al
      zijn er geen decimalen). De reden is dat er een deling in de berekening
      zit, en dat betekent voor Python dat de uitkomst automatisch een float is.</p>
    <p>Op de tweede plaats is het zo dat, zoals ik al eerder opmerkte, spaties
      door Python genegeerd worden. De code hierboven is dus equivalent met:</p>
    <div class="highlighter-rouge">
      <pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span
class="p">(</span> <span class="mi">5</span> <span class="o">*</span> <span class="mi">2</span> <span
class="o">-</span> <span class="mi">3</span> <span class="o">+</span> <span class="mi">4</span> <span
class="o">/</span> <span class="mi">2</span> <span class="p">)</span>
<span class="go">9.0</span>
</pre></div>
    <p>Het is zelfs gelijk aan:</p>
    <div class="highlighter-rouge">
      <pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span
class="p">(</span> <span class="mi">5</span><span class="o">*</span><span class="mi">2</span> <span
class="o">-</span> <span class="mi">3</span><span class="o">+</span><span class="mi">4</span>    <span
class="o">/</span> <span class="mi">2</span> <span class="p">)</span>
<span class="go">9.0</span>
</pre></div>
    <p>Ik heb lange discussies moeten voeren met mensen die beweren dat de code
      hierboven als uitkomst <samp>6.5</samp> of <samp>1.5</samp> geeft, want
      het is toch <i>overduidelijk</i> dat je eerst <samp>5*2</samp> en <samp>3+4</samp>
      moet berekenen voordat je toekomt aan die aftrekking en deling. Dat is
      kolder. Het maakt niet uit hoeveel spaties je rondom de operatoren zet:
      spaties worden genegeerd. Als je echt eerst <samp>3+4</samp> wilt laten
      berekenen, moet je er haakjes omheen zetten. Spaties kunnen leesbaarheid
      verhogen als je ze goed toepast, maar voor Python zijn ze betekenisloos.</p>
    <div class="highlighter-rouge">
      <pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span
class="p">(</span> <span class="p">(</span><span class="mi">5</span><span class="o">*</span><span
class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span
class="mi">3</span><span class="o">+</span><span class="mi">4</span><span class="p">)</span><span
class="o">/</span><span class="mi">2</span> <span class="p">)</span>
<span class="go">6.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span> <span
class="p">((</span><span class="mi">5</span><span class="o">*</span><span class="mi">2</span><span
class="p">)</span><span class="o">-</span><span class="p">(</span><span class="mi">3</span><span
class="o">+</span><span class="mi">4</span><span class="p">))</span> <span class="o">/</span> <span
class="mi">2</span> <span class="p">)</span>
<span class="go">1.5</span>
</pre></div>
    <div class="callout callout-info">
      <h4>Opgave</h4>
      <p>Nu is de tijd gekomen om je eerste programma te schrijven. Schrijf een
        programma dat het aantal seconden in een week berekent. Je moet daarvoor
        natuurlijk niet je rekenmachine of smartphone grijpen, daarop de
        berekening doen, en dan gewoon de uitkomst afdrukken. Je moet de
        berekening doen in Python code. Het programma is slechts &#233;&#233;n
        regel lang, dus je kunt het gewoon in de Python shell doen, maar ik raad
        je aan om echt een programmabestand te maken.</p>
    </div>
    <h3>String expressies</h3>
    <p>Een aantal van de hierboven genoemde operatoren kunnen voor strings
      worden gebruikt, maar niet allemaal.</p>
    <p>Specifiek, je kunt de plus (<samp>+</samp>) gebruiken om twee strings aan
      elkaar te <i>plakken</i>, en je kunt de ster (<samp>*</samp>) gebruiken
      met een string en een integer om een string te maken die een herhaling van
      de originele string bevat. Zie hier:</p>
    <div class="highlighter-rouge">
      <pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span
class="p">(</span> <span class="s2">"tot"</span><span class="o">+</span><span class="s2">"ziens"</span> <span
class="p">)</span>
<span class="go">totziens</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span> <span
class="mi">3</span><span class="o">*</span><span class="s2">"hallo"</span> <span
class="p">)</span>
<span class="go">hallohallohallo</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span> <span
class="s2">"tot ziens"</span><span class="o">*</span><span class="mi">3</span> <span
class="p">)</span>
<span class="go">tot zienstot zienstot ziens</span>
</pre></div>
    <p>Je kunt geen getal optellen bij een string, of twee strings met elkaar
      vermenigvuldigen. Zulke operatoren zijn niet gedefinieerd, en geven
      foutmeldingen. Geen van de andere operatoren werkt voor strings.</p>
    <h3>Type casting</h3>
    <p>Soms moet je een data type of waarde veranderen in een ander data type.
      Je kunt dat doen met <i>type casting</i> functies.</p>
    <p>In latere hoofdstukken (\ref{ch:simplefunctions} en \ref{ch:functions})
      ga ik in detail op functies in, maar voor nu is het voldoende als je weet
      dat een functie een naam heeft, en parameters kan hebben tussen de haakjes
      die achter de naam staan. De functie doet iets met die parameters en geeft
      een resultaat terug. Bijvoorbeeld, de functie <samp>print()</samp> drukt
      de parameter waardes af op het scherm, en geeft niks terug.</p>
    <p>Type casting functies nemen de parameter waarde die tussen de haakjes is
      gegeven, en geven een waarde terug die (bijna) hetzelfde is als de
      parameter waarde, maar van een verschillend type. De drie belangrijkste
      type casting functies zijn:</p>
    <div class="dodona-centered-group">
      <table class="table table-striped table-condensed">
        <thead>
          <tr>
            <th>functie</th>
            <th>omschrijving</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><samp>int()</samp></td>
            <td>geeft de parameter waarde terug als integer (indien noodzakelijk
              afgerond naar beneden)</td>
          </tr>
          <tr>
            <td><samp>float()</samp></td>
            <td>geeft de parameter waarde terug als float (waarbij .0 indien
              noodzakelijk wordt toegevoegd)</td>
          </tr>
          <tr>
            <td><samp>str()</samp></td>
            <td>geeft de parameter waarde terug als string</td>
          </tr>
        </tbody>
      </table>
    </div>
    <p>Bekijk de verschillen tussen de volgende twee regels code:</p>
    <div class="highlighter-rouge">
      <pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span
class="p">(</span> <span class="mi">15</span><span class="o">/</span><span class="mi">4</span> <span
class="p">)</span>
<span class="go">3.75</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span> <span
class="nb">int</span><span class="p">(</span> <span class="mi">15</span><span class="o">/</span><span
class="mi">4</span> <span class="p">)</span> <span class="p">)</span>
<span class="go">3</span>
</pre></div>
    <p>Of de volgende twee regels:</p>
    <div class="highlighter-rouge">
      <pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span
class="p">(</span> <span class="mi">15</span><span class="o">+</span><span class="mi">4</span> <span
class="p">)</span>
<span class="go">19</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span> <span
class="nb">float</span><span class="p">(</span> <span class="mi">15</span><span
class="o">+</span><span class="mi">4</span> <span class="p">)</span> <span class="p">)</span>
<span class="go">19.0</span>
</pre></div>
    <p>Ik had al aangegeven dat je de plus-operator niet kunt gebruiken om een
      getal aan een string vast te plakken. Als je zoiets toch wilt doen, kun je
      een oplossing maken met behulp van string type casting:</p>
    <div class="highlighter-rouge">
      <pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span
class="p">(</span> <span class="s2">"Ik heb "</span> <span class="o">+</span> <span
class="nb">str</span><span class="p">(</span> <span class="mi">15</span> <span class="p">)</span> <span
class="o">+</span> <span class="s2">" appels."</span> <span class="p">)</span>
<span class="go">Ik heb 15 appels.</span>
</pre></div>
    <div class="footnotes">
      <ol>
        <li id="fn:1">
          <p>In het Engels wordt de volgorde PEMDAS genoemd,
      en eigenlijk geeft die beter aan wat daadwerkelijk de volgorde is: haakjes
      (parentheses), exponenten, multiplicatie en divisie (deling), additie
      (optelling) en subtractie (aftrekking). Feitelijk is de Nederlandse
      volgorde incorrect, omdat worteltrekken na delen wordt geplaatst, terwijl
      wiskundig gezien worteltrekken een vorm van machtsverheffen is, en dus
      voor vermenigvuldigen komt. <a href="#fnref:1" class="reversefootnote">&#8617;</a></p>
        </li>
      </ol>
    </div>
  </body>
</html>
